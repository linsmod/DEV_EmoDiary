<view class="container">
  <!-- 标题区域和保存按钮 -->
  <view class="header-container">
    <view class="title-group">
      <input class="title-input" placeholder="请输入标题" value="{{title}}" bindinput="onTitleInput" />
      <text class="note-time">{{noteTime}}</text>
    </view>
    <view class="save-button" bindtap="saveNote">保存</view>
  </view>

  <!-- 编辑器区域 -->
  <view class="content-group">
    <custom-editor id="editor" class="content-editor" initial-content="{{initialContent}}"></custom-editor>
  </view>

  <!-- 工具栏 -->
  <view class="toolbar">
    <view class="toolbar-item {{formats.bold ? 'active' : ''}}" bindtap="handleFormat" data-format="bold">
      <text class="icon-text icon-bold">B</text>
    </view>
    <view class="toolbar-item {{formats.italic ? 'active' : ''}}" bindtap="handleFormat" data-format="italic">
      <text class="icon-text icon-italic">I</text>
    </view>
    <view class="toolbar-item {{formats.underline ? 'active' : ''}}" bindtap="handleFormat" data-format="underline">
      <text class="icon-text">U</text>
    </view>
    <view class="toolbar-item {{formats.strike ? 'active' : ''}}" bindtap="handleFormat" data-format="strike">
      <text class="icon-text">S</text>
    </view>
    <view class="toolbar-item" bindtap="showColorPicker">
      <image src="/images/icons/color.svg" class="icon-image" mode="aspectFit"></image>
    </view>
    <view class="toolbar-item" bindtap="handleFormat" data-format="align" data-value="left">
      <image src="/images/icons/align-left.svg" class="icon-image" mode="aspectFit"></image>
    </view>
    <view class="toolbar-item" bindtap="handleFormat" data-format="align" data-value="center">
      <image src="/images/icons/align-center.svg" class="icon-image" mode="aspectFit"></image>
    </view>
    <view class="toolbar-item" bindtap="handleFormat" data-format="align" data-value="right">
      <image src="/images/icons/align-right.svg" class="icon-image" mode="aspectFit"></image>
    </view>
    <view class="toolbar-item" bindtap="handleFormat" data-format="list" data-value="bullet">
      <image src="/images/icons/list-bullet.svg" class="icon-image" mode="aspectFit"></image>
    </view>
    <view class="toolbar-item" bindtap="handleFormat" data-format="list" data-value="ordered">
      <image src="/images/icons/list-ordered.svg" class="icon-image" mode="aspectFit"></image>
    </view>
    <view class="toolbar-item" bindtap="insertImage">
      <text class="icon-text">图</text>
    </view>
    <view class="toolbar-item" bindtap="undo">
      <image src="/images/icons/undo.svg" class="icon-image" mode="aspectFit"></image>
    </view>
    <view class="toolbar-item" bindtap="redo">
      <image src="/images/icons/redo.svg" class="icon-image" mode="aspectFit"></image>
    </view>
  </view>

  <!-- 颜色选择器面板 -->
  <view class="color-picker-panel" wx:if="{{showColorPicker}}">
    <view class="color-item" 
          wx:for="{{colors}}" 
          wx:key="*this" 
          style="background-color: {{item}}"
          bindtap="handleColor"
          data-color="{{item}}">
    </view>
  </view>
</view>